name: Deploy
on:
  push:
    branches: [main]
jobs:
  build-and-deploy:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout code
        uses: actions/checkout@v4
      - name: Build backend Docker image
        run: |
          docker build -t ecompta-backend -f Dockerfile.backend .
      - name: Build frontend Docker image
        run: |
          docker build -t ecompta-frontend -f frontend-app/Dockerfile ./frontend-app
      # Ajoutez ici votre étape de déploiement (exemple : Docker Hub, Azure, GCP, etc.)
      # - name: Push images to registry
      #   run: |
      #     docker tag ecompta-backend <registry>/ecompta-backend:latest
      #     docker tag ecompta-frontend <registry>/ecompta-frontend:latest
      #     docker push <registry>/ecompta-backend:latest
      #     docker push <registry>/ecompta-frontend:latest
